(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},39:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),o=(a(38),a(39),a(8)),u=a(13),s=Object(n.createContext)(),i=function(){var e=Object(n.useContext)(s),t=e.logOut,a=e.clearError,c=e.userAuth,l=e.user,u=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,"Hello, ",l&&l.name),r.a.createElement("span",{className:"sm-hide"},"|"),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){t(),a()}},r.a.createElement("span",{className:"sm-hide"},"Logout"),r.a.createElement("i",{className:"fas fa-sign-out-alt"})))),i=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"register"},"Register")),r.a.createElement("span",{className:"sm-hide"},"|"),r.a.createElement("li",null,r.a.createElement(o.b,{to:"login"},"Login")));return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,r.a.createElement("i",{className:"fas fa-glass-cheers"}),"RSVPs")),r.a.createElement("ul",null,c?u:i))},p=a(3),m=a(9),E=Object(n.createContext)();function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var d=function(){var e=Object(n.useContext)(E),t=e.addGuest,a=e.edit,c=e.clearEdit,l=e.updateGuest;Object(n.useEffect)((function(){i(null!==a?a:{name:"",phone:"",dietary:"Non-Veg"})}),[a]);var o=Object(n.useState)({name:"",phone:"",dietary:"Non-Veg"}),u=Object(m.a)(o,2),s=u[0],i=u[1],d=function(e){i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},s,Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"invite-section"},r.a.createElement("h1",null,null===a?"Invite Someone":"Edit Guest"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),null!==a?(l(s),console.log(s),c()):(s.id=Date.now(),t(s),i({name:"",phone:"",dietary:"Non-Veg"}))}},r.a.createElement("input",{className:"nameInput",type:"text",placeholder:"Name",name:"name",value:s.name,onChange:d}),r.a.createElement("input",{type:"text",placeholder:"Phone",name:"phone",value:s.phone,onChange:d}),r.a.createElement("p",{className:"options-label"},"Dietary"),r.a.createElement("div",{className:"options"},r.a.createElement("label",{className:"container"},"Non-veg",r.a.createElement("input",{type:"radio",name:"dietary",value:"Non-Veg",checked:"Non-Veg"===s.dietary,onChange:d}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"container"},"Vegan",r.a.createElement("input",{type:"radio",name:"dietary",value:"Vegan",checked:"Vegan"===s.dietary,onChange:d}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"container"},"Vegetarian",r.a.createElement("input",{type:"radio",name:"dietary",value:"Vegetarian",checked:"Vegetarian"===s.dietary,onChange:d}),r.a.createElement("span",{className:"checkmark"}))),r.a.createElement("input",{type:"submit",value:null===a?"Add Guest":"Update Guest",className:"btn"}),null!==a?r.a.createElement("input",{value:"Cancel",type:"button",className:"btn clear",onClick:c}):null))},g=function(){var e=Object(n.useContext)(E).guests,t=e.length,a=e.filter((function(e){return e.isconfirmed})),c=e.filter((function(e){return e.isconfirmed})).length,l=function(t){return e.filter((function(e){return e.dietary===t})).length},o=function(e){return a.filter((function(t){return t.dietary===e})).length};return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Guest"),r.a.createElement("th",null,"Invited"),r.a.createElement("th",null,"Attending")),r.a.createElement("tr",null,r.a.createElement("th",null,"Non-Veg"),r.a.createElement("td",null,l("Non-Veg")),r.a.createElement("td",null,o("Non-Veg"))),r.a.createElement("tr",null,r.a.createElement("th",null,"Vegan"),r.a.createElement("td",null,l("Vegan")),r.a.createElement("td",null,o("Vegan"))),r.a.createElement("tr",null,r.a.createElement("th",null,"Vegetarian"),r.a.createElement("td",null,l("Vegetarian")),r.a.createElement("td",null,o("Vegetarian"))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("td",null,t),r.a.createElement("td",null,c)))))},y=function(){var e=Object(n.useContext)(E).toggleFilter;return r.a.createElement("div",{className:"toggle"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",onChange:e}),r.a.createElement("span",{className:"slider round"})),r.a.createElement("p",{className:"lead"},"Show attending only!"))},b=function(){var e=Object(n.useContext)(E),t=e.searchGuest,a=e.clearSearch,c=Object(n.useRef)();return r.a.createElement("div",null,r.a.createElement("input",{ref:c,onChange:function(e){null!==c.current.value?t(e.target.value):a()},type:"text",className:"search",placeholder:" Search Guest by name ..."}),r.a.createElement("i",{className:"fas fa-search search-icon"}))};function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var O=function(e){var t=e.guest,a=Object(n.useContext)(E),c=a.removeGuest,l=a.updateGuest,o=a.editGuest,u=t._id,s=t.name,i=t.phone,m=t.dietary,f=t.isconfirmed,d="Non-Veg"===m?"red":"Vegan"===m?"green":"seaGreen";return r.a.createElement("div",{className:"guest-card"},r.a.createElement("div",{className:"card-head"},r.a.createElement("div",null,r.a.createElement("label",{className:"".concat(f&&"confirm")}," ","Confirmed",r.a.createElement("i",{className:"fas fa-check-square ".concat(f&&"confirm")},r.a.createElement("input",{type:"checkbox",onChange:function(){l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{isconfirmed:!f}))}})))),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return function(e){console.log(document.querySelector(".nameInput").focus()),o(e)}(t)}},r.a.createElement("i",{className:"fas fa-user-edit"})),r.a.createElement("button",{onClick:function(){console.log(u),c(u)}},r.a.createElement("i",{className:"fas fa-trash-alt remove"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",null,s),r.a.createElement("span",{className:"badge ".concat(d)},m),r.a.createElement("div",{className:"contact"},r.a.createElement("i",{className:"fas fa-phone-alt"}),r.a.createElement("p",null,i))))},v=function(){var e=Object(n.useContext)(E),t=e.guests,a=e.filterGuest,c=e.search,l=e.getGuests;return Object(n.useEffect)((function(){l()}),[t]),r.a.createElement("div",{className:"guests"},null!==c?c.map((function(e){return r.a.createElement(O,{key:e._id,guest:e})})):t.filter((function(e){return!a||e.isconfirmed})).map((function(e){return r.a.createElement(O,{guest:e,key:e._id})})))},j=function(){var e=Object(n.useContext)(s).getUser;return Object(n.useEffect)((function(){e()}),[]),r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"filter"},r.a.createElement(y,null),r.a.createElement(b,null)),r.a.createElement(d,null),r.a.createElement(g,null)),r.a.createElement(v,null))},w=a(2),S=a.n(w),R=a(12),N=a(6),C=a.n(N),G=a(32);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=function(e,t){var a=t.type,n=t.payload,r=e.filterGuest,c=new RegExp(n,"gi");switch(a){case"GET_GUESTS":return k({},e,{guests:n});case"EDIT_GUEST":return k({},e,{edit:n});case"CLEAR_EDIT":return k({},e,{edit:null});case"UPDATE_GUEST":return k({},e,{guests:e.guests.map((function(e){return e._id===n._id?n:e}))});case"REMOVE_GUEST":return k({},e,{guests:e.guests.filter((function(e){return e._id!==n}))});case"ADD_GUEST":return k({},e,{guests:[].concat(Object(G.a)(e.guests),[n])});case"TOGGLER_FILTER":return k({},e,{filterGuest:!r});case"SEARCH_GUEST":return k({},e,{search:e.guests.filter((function(e){return e.name.match(c)}))});case"GUESTS_ERROR":return k({},e,{guests:[],errors:n});case"CLEAR_GUEST":return k({},e,{search:null});default:return k({},e)}},_=function(e){var t=Object(n.useReducer)(T,{filterGuest:!1,search:null,edit:null,guests:[],errors:null}),a=Object(m.a)(t,2),c=a[0],l=a[1],o=function(){var e=Object(R.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/guests");case 3:t=e.sent,l({type:"GET_GUESTS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({type:"GUESTS_ERROR",payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(R.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json"},e.prev=1,e.next=4,C.a.post("/guests",t,a);case 4:n=e.sent,l({type:"ADD_GUEST",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"GUESTS_ERROR",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(R.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json"},e.prev=1,e.next=4,C.a.put("/guests/".concat(t._id),t,a);case 4:n=e.sent,l({type:"UPDATE_GUEST",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"GUESTS_ERROR",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(R.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.delete("/guests/".concat(t));case 3:l({type:"REMOVE_GUEST",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l({type:"GUESTS_ERROR",payload:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(E.Provider,{value:{guests:c.guests,toggleFilter:function(){l({type:"TOGGLER_FILTER"})},filterGuest:c.filterGuest,search:c.search,searchGuest:function(e){l({type:"SEARCH_GUEST",payload:e})},clearSearch:function(){l({type:"CLEAR_GUEST"})},addGuest:u,removeGuest:i,updateGuest:s,edit:c.edit,editGuest:function(e){l({type:"EDIT_GUEST",payload:e})},clearEdit:function(){l({type:"CLEAR_EDIT"})},getGuests:o}},e.children))};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e,t){switch(t.type){case"SET_USER":return{user:t.payload,userAuth:!0,errors:null};case"SUCCESS_REGISTER":case"SUCCESS_LOGIN":return localStorage.setItem("token",t.payload),D({},e,{userAuth:!0,errors:null});case"FAIL_LOGIN":case"FAIL_REGISTER":case"LOG_OUT":case"AUTH_ERROR":return localStorage.removeItem("token"),D({},e,{userAuth:null,errors:t.payload});case"SET_ERROR":return D({},e,{errors:t.payload});case"CLEAR_ERROR":return D({},e,{errors:null});default:return e}},A=function(e){e?C.a.defaults.headers.common["auth-token"]=e:delete C.a.defaults.headers.common["auth-token"]},I=function(e){var t=Object(n.useReducer)(U,{user:null,userAuth:null,errors:null}),a=Object(m.a)(t,2),c=a[0],l=a[1],o=function(){var e=Object(R.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&A(localStorage.token),e.prev=1,e.next=4,C.a.get("/api/user");case 4:t=e.sent,l({type:"SET_USER",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"AUTH_ERROR",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(R.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={header:{"Content-Type":"appliction/json"}},e.prev=1,e.next=4,C.a.post("/api/user/register",t,a);case 4:n=e.sent,l({type:"SUCCESS_REGISTER",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"FAIL_REGISTER",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(R.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={header:{"Content-Type":"appliction/json"}},e.prev=1,e.next=4,C.a.post("./api/user/login",t,a);case 4:n=e.sent,l({type:"SUCCESS_LOGIN",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"FAIL_LOGIN",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(s.Provider,{value:{user:c.user,userAuth:c.userAuth,errors:c.errors,registerUser:u,loginUser:i,logOut:function(){l({type:"LOG_OUT"})},setError:function(e){l({type:"SET_ERROR",payload:e})},clearError:function(){l({type:"CLEAR_ERROR"})},getUser:o}},e.children)};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var L=function(e){var t=Object(n.useContext)(s),a=t.registerUser,c=t.userAuth,l=t.errors,u=t.setError,i=t.clearError;Object(n.useEffect)((function(){c&&e.history.push("/")}),[c,e.history]);var E=Object(n.useState)({name:"",email:"",password:"",password2:""}),f=Object(m.a)(E,2),d=f[0],g=f[1],y=d.name,b=d.email,h=d.password,O=d.password2,v=function(e){g(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},d,Object(p.a)({},e.target.name,e.target.value))),i()};return r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{action:"",onSubmit:function(e){e.preventDefault(),h!==O?u("password not metch"):(a({name:y,email:b,password:h}),i())},onChange:v},r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:y,onChange:v}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:b,onChange:v,autoComplete:"email"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:h,autoComplete:"new-password",onChange:v}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Confirm Password",value:O,onChange:v}),r.a.createElement("input",{type:"submit",value:"sign up",className:"btn"})),r.a.createElement("div",{className:"question"},null!==l&&r.a.createElement("button",{className:"danger",onClick:function(){return i()}},l||l.error[0],r.a.createElement("span",null,"X")),r.a.createElement("p",null,"Already have an account ? ",r.a.createElement(o.b,{to:"/login"},"login"))))};function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var H=function(e){var t=Object(n.useContext)(s),a=t.loginUser,c=t.userAuth,l=t.errors,u=t.clearError;Object(n.useEffect)((function(){c&&e.history.push("/")}),[c,e.history]);var i=Object(n.useState)({email:"",password:""}),E=Object(m.a)(i,2),f=E[0],d=E[1],g=f.email,y=f.password,b=function(e){d(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},f,Object(p.a)({},e.target.name,e.target.value))),u()};return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{action:"",onSubmit:function(e){e.preventDefault(),a(f),u()}},r.a.createElement("input",{autoComplete:"username",type:"email",name:"email",placeholder:"Email",value:g,onChange:b}),r.a.createElement("input",{autoComplete:"current-password",type:"password",name:"password",placeholder:"Password",value:y,onChange:b}),r.a.createElement("input",{type:"submit",value:"sign ip",className:"btn"})),r.a.createElement("div",{className:"question"},null!==l&&r.a.createElement("button",{className:"danger",onClick:function(){return u()}},l||l.error[0],r.a.createElement("span",null,"X")),r.a.createElement("p",null,"Dont have an account ? ",r.a.createElement(o.b,{to:"/Register"},"Sign up"))))},q=a(31),B=function(e){var t=e.component,a=Object(q.a)(e,["component"]),c=Object(n.useContext)(s).userAuth;return r.a.createElement("div",null,r.a.createElement(u.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(u.a,{to:"login"})}})))};var J=function(){return localStorage.token&&A(localStorage.token),r.a.createElement(I,null,r.a.createElement(_,null,r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(u.d,null,r.a.createElement(B,{exact:!0,path:"/",component:j}),r.a.createElement(u.b,{exact:!0,path:"/Register",component:L}),r.a.createElement(u.b,{exact:!0,path:"/Login",component:H}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.6e5d7bb9.chunk.js.map